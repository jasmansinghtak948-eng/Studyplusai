(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{33024:function(e,t,s){Promise.resolve().then(s.bind(s,18811))},18811:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),r=s(2265),n=s(13287),o=s(99376),l=s(28223),i=s(64134),c=s(21469),d=s(69064);function u(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)({test_name:"",subject:"",total_questions:0,correct_answers:0,wrong_answers:0,not_attempted:0,time_taken:0}),[u,h]=(0,r.useState)([]),[m,p]=(0,r.useState)({name:"",accuracy:0}),[x,b]=(0,r.useState)(!1),w=e=>{let{name:a,value:r}=e.target;s({...t,[a]:isNaN(Number(r))?r:Number(r)})},g=e=>{h(u.filter((t,s)=>s!==e))},f=async s=>{if(s.preventDefault(),!t.test_name||!t.subject){d.ZP.error("Please fill test name and subject");return}b(!0);try{let s={};u.forEach(e=>{s[e.name]={accuracy:e.accuracy,correct:Math.round(e.accuracy/100*t.total_questions),total:t.total_questions}}),await l.E.uploadTest({...t,chapter_performance:s}),d.ZP.success("Test uploaded successfully!"),e.push("/dashboard")}catch(e){var a,r;d.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.detail)||"Upload failed")}finally{b(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-pastel-lavender via-pastel-sky-blue to-pastel-mint p-4 md:p-8",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-poppins font-bold text-white mb-2",children:"\uD83D\uDCDD Upload Test Result"}),(0,a.jsx)("p",{className:"text-white/60",children:"Add your test scores for AI analysis"})]}),(0,a.jsx)(i.Wn,{className:"p-8",children:(0,a.jsxs)("form",{onSubmit:f,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Test Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Test Name"}),(0,a.jsx)("input",{type:"text",name:"test_name",value:t.test_name,onChange:w,placeholder:"e.g., Biology Mock Test",className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-white/50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Subject"}),(0,a.jsxs)("select",{name:"subject",value:t.subject,onChange:w,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-white/50",children:[(0,a.jsx)("option",{value:"",children:"Select Subject"}),(0,a.jsx)("option",{value:"Physics",children:"Physics"}),(0,a.jsx)("option",{value:"Chemistry",children:"Chemistry"}),(0,a.jsx)("option",{value:"Biology",children:"Biology"}),(0,a.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,a.jsx)("option",{value:"English",children:"English"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Total Questions"}),(0,a.jsx)("input",{type:"number",name:"total_questions",value:t.total_questions,onChange:w,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-white/50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Correct Answers"}),(0,a.jsx)("input",{type:"number",name:"correct_answers",value:t.correct_answers,onChange:w,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-white/50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Wrong Answers"}),(0,a.jsx)("input",{type:"number",name:"wrong_answers",value:t.wrong_answers,onChange:w,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-white/50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Not Attempted"}),(0,a.jsx)("input",{type:"number",name:"not_attempted",value:t.not_attempted,onChange:w,className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:border-white/50"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-white/80 mb-2 text-sm",children:"Time Taken (in seconds)"}),(0,a.jsx)("input",{type:"number",name:"time_taken",value:t.time_taken,onChange:w,placeholder:"e.g., 3600 for 1 hour",className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-white/50"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Chapter-wise Performance"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pb-4 border-b border-white/20",children:[(0,a.jsx)("input",{type:"text",value:m.name,onChange:e=>p({...m,name:e.target.value}),placeholder:"Chapter name",className:"px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-white/50"}),(0,a.jsx)("input",{type:"number",value:m.accuracy,onChange:e=>p({...m,accuracy:Number(e.target.value)}),placeholder:"Accuracy %",min:"0",max:"100",className:"px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-white/50"}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},type:"button",onClick:()=>{m.name&&m.accuracy>0?(h([...u,{...m}]),p({name:"",accuracy:0}),d.ZP.success("Chapter added")):d.ZP.error("Please fill chapter details")},className:"px-4 py-3 rounded-lg bg-gradient-to-r from-blue-400 to-purple-500 text-white font-medium hover:shadow-lg transition",children:"Add Chapter"})]}),u.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:u.map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex justify-between items-center p-4 rounded-lg bg-white/10 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-white/60 text-sm",children:[e.accuracy,"% accuracy"]})]}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},type:"button",onClick:()=>g(t),className:"p-2 hover:bg-red-500/20 rounded-lg transition text-red-400",children:(0,a.jsx)(c.q5L,{size:20})})]},t))})]})]}),(0,a.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:x,type:"submit",className:"w-full py-4 rounded-lg bg-gradient-to-r from-blue-400 to-purple-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 transition disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,a.jsx)(c.Yjd,{})," ",x?"Uploading...":"Upload Result & Analyze"]})]})})]})})}},64134:function(e,t,s){"use strict";s.d(t,{OQ:function(){return l},Sz:function(){return c},Wn:function(){return o},f:function(){return i}});var a=s(57437),r=s(2265),n=s(13287);function o(e){let{children:t,className:s=""}=e;return(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"glass-dark p-6 rounded-2xl ".concat(s),children:t})}function l(e){let{children:t,onClick:s,className:r="",variant:o="primary"}=e;return(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"px-6 py-3 rounded-lg font-semibold text-white transition-all ".concat({primary:"bg-gradient-to-r from-blue-400 to-purple-500 hover:shadow-lg hover:shadow-purple-500/50",secondary:"bg-white/20 hover:bg-white/30 border border-white/30"}[o]," ").concat(r),children:t})}function i(e){let{value:t,suffix:s=""}=e,[n,o]=r.useState(0);return r.useEffect(()=>{let e=0,s=t/30,a=setInterval(()=>{(e+=s)>=t?(o(t),clearInterval(a)):o(Math.floor(e))},20);return()=>clearInterval(a)},[t]),(0,a.jsxs)("span",{children:[n,s]})}function c(e){let{children:t,delay:s=0}=e;return(0,a.jsx)(n.E.div,{animate:{y:[0,-20,0]},transition:{duration:3,delay:s,repeat:1/0},children:t})}},28223:function(e,t,s){"use strict";s.d(t,{E:function(){return r}});let a=s(83464).Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e.data,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")),Promise.reject(e)});let r={register:e=>a.post("/api/v1/auth/register",e),login:e=>a.post("/api/v1/auth/login",e),googleAuth:e=>a.post("/api/v1/auth/google",e),appleAuth:e=>a.post("/api/v1/auth/apple",e),getCurrentUser:()=>a.get("/api/v1/auth/me"),uploadTest:e=>a.post("/api/v1/tests/upload",e),getTestHistory:e=>a.get("/api/v1/tests/history?limit=".concat(e||10)),getDashboard:()=>a.get("/api/v1/tests/dashboard"),getRecommendations:()=>a.get("/api/v1/tests/recommendations")}}},function(e){e.O(0,[502,387,464,859,971,117,744],function(){return e(e.s=33024)}),_N_E=e.O()}]);