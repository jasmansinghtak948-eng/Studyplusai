(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{57268:function(e,t,a){Promise.resolve().then(a.bind(a,50441))},50441:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(57437),r=a(2265),i=a(13287),n=a(71245),o=a(28223),l=a(64134),c=a(47625),d=a(5481),u=a(56940),h=a(97059),m=a(62994),x=a(8147),p=a(23263),f=a(77031),y=a(83046),g=a(21469),v=a(27648);let b=[{date:"1 day",score:65},{date:"3 days",score:72},{date:"1 week",score:78},{date:"2 weeks",score:85}],j=[{name:"Chapter 1",accuracy:75},{name:"Chapter 2",accuracy:82},{name:"Chapter 3",accuracy:68},{name:"Chapter 4",accuracy:88}];function w(){let{user:e,logout:t}=(0,n.a)(),[a,w]=(0,r.useState)(null),[k,N]=(0,r.useState)([]),[_,E]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await o.E.getDashboard();w(e.metrics||e);let t=await o.E.getRecommendations();N(t.recommendations||t||[])}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{E(!1)}})()},[]),_)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-pastel-lavender via-pastel-sky-blue to-pastel-mint flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-2xl",children:"Loading dashboard..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-pastel-lavender via-pastel-sky-blue to-pastel-mint p-4 md:p-8",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-poppins font-bold text-white mb-2",children:["Welcome, ",(null==e?void 0:e.name)||"Student","! \uD83D\uDC4B"]}),(0,s.jsx)("p",{className:"text-white/60",children:"Your academic performance at a glance"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(v.default,{href:"/tests/upload",children:(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},className:"px-6 py-2 rounded-lg bg-gradient-to-r from-blue-400 to-purple-500 text-white font-semibold",children:"Upload Test"})}),(0,s.jsxs)(i.E.button,{whileHover:{scale:1.05},onClick:t,className:"px-6 py-2 rounded-lg bg-red-500/20 border border-red-500/50 text-white font-semibold hover:bg-red-500/30 transition flex items-center gap-2",children:[(0,s.jsx)(g.xqh,{})," Logout"]})]})]}),(0,s.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{label:"Overall Accuracy",value:(null==a?void 0:a.overall_accuracy)||0,unit:"%"},{label:"Tests Uploaded",value:(null==a?void 0:a.test_count)||0,unit:""},{label:"Study Sessions",value:(null==a?void 0:a.study_sessions)||0,unit:""},{label:"Weak Areas",value:(null==a?void 0:a.weak_areas_count)||0,unit:""}].map((e,t)=>(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},whileHover:{scale:1.05},children:(0,s.jsxs)(l.Wn,{className:"p-6 text-center cursor-pointer",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm mb-4",children:e.label}),(0,s.jsx)("div",{className:"text-4xl font-bold text-white",children:(0,s.jsx)(l.f,{value:Math.round(e.value),suffix:e.unit})})]})},t))}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2",children:(0,s.jsxs)(l.Wn,{children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-4",children:"Performance Trend"}),(0,s.jsx)(c.h,{width:"100%",height:250,children:(0,s.jsxs)(d.T,{data:b,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#8ec5fc",stopOpacity:.8}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#8ec5fc",stopOpacity:0})]})}),(0,s.jsx)(u.q,{strokeDasharray:"3 3",stroke:"white/20"}),(0,s.jsx)(h.K,{dataKey:"date",stroke:"white/50"}),(0,s.jsx)(m.B,{stroke:"white/50"}),(0,s.jsx)(x.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"none",borderRadius:"8px",color:"white"}}),(0,s.jsx)(p.u,{type:"monotone",dataKey:"score",stroke:"#8ec5fc",fill:"url(#colorScore)"})]})})]})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,s.jsxs)(l.Wn,{children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-4",children:"Burnout Status"}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,s.jsx)("div",{className:"relative w-32 h-32 mb-4",children:(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400 to-blue-400 p-1",children:(0,s.jsx)("div",{className:"w-full h-full rounded-full bg-black/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl font-bold text-white",children:(0,s.jsx)(l.f,{value:Math.round((null==a?void 0:a.burnout_score)||0)})})})})}),(0,s.jsx)("p",{className:"text-white/60 text-center text-sm",children:((null==a?void 0:a.burnout_score)||0)>50?"Take a break soon!":"Keep it up!"})]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,s.jsxs)(l.Wn,{children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-4",children:"Chapter Accuracy"}),(0,s.jsx)(c.h,{width:"100%",height:300,children:(0,s.jsxs)(f.v,{data:j,children:[(0,s.jsx)(u.q,{strokeDasharray:"3 3",stroke:"white/20"}),(0,s.jsx)(h.K,{dataKey:"name",stroke:"white/50"}),(0,s.jsx)(m.B,{stroke:"white/50"}),(0,s.jsx)(x.u,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"none",borderRadius:"8px"}}),(0,s.jsx)(y.$,{dataKey:"accuracy",fill:"#8ec5fc",radius:[8,8,0,0]})]})})]})}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,s.jsxs)(l.Wn,{children:[(0,s.jsx)("h2",{className:"text-white font-semibold mb-4",children:"\uD83D\uDCDA Study Recommendations"}),k.length>0?(0,s.jsx)("div",{className:"space-y-3",children:k.slice(0,5).map((e,t)=>(0,s.jsx)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-3 rounded-lg bg-white/10 border border-white/20 hover:border-white/40 transition",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-medium",children:e.chapter}),(0,s.jsxs)("p",{className:"text-white/60 text-sm",children:[e.accuracy.toFixed(1),"% accuracy \xb7 ",e.times_attempted," attempts"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-white font-semibold",children:[e.suggested_hours.toFixed(1),"h"]}),(0,s.jsx)("p",{className:"text-white/60 text-xs",children:"suggested"})]})]})},t))}):(0,s.jsx)("p",{className:"text-white/60",children:"Upload a test to get recommendations"})]})})]})]})}},64134:function(e,t,a){"use strict";a.d(t,{OQ:function(){return o},Sz:function(){return c},Wn:function(){return n},f:function(){return l}});var s=a(57437),r=a(2265),i=a(13287);function n(e){let{children:t,className:a=""}=e;return(0,s.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"glass-dark p-6 rounded-2xl ".concat(a),children:t})}function o(e){let{children:t,onClick:a,className:r="",variant:n="primary"}=e;return(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"px-6 py-3 rounded-lg font-semibold text-white transition-all ".concat({primary:"bg-gradient-to-r from-blue-400 to-purple-500 hover:shadow-lg hover:shadow-purple-500/50",secondary:"bg-white/20 hover:bg-white/30 border border-white/30"}[n]," ").concat(r),children:t})}function l(e){let{value:t,suffix:a=""}=e,[i,n]=r.useState(0);return r.useEffect(()=>{let e=0,a=t/30,s=setInterval(()=>{(e+=a)>=t?(n(t),clearInterval(s)):n(Math.floor(e))},20);return()=>clearInterval(s)},[t]),(0,s.jsxs)("span",{children:[i,a]})}function c(e){let{children:t,delay:a=0}=e;return(0,s.jsx)(i.E.div,{animate:{y:[0,-20,0]},transition:{duration:3,delay:a,repeat:1/0},children:t})}},71245:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return o},a:function(){return l}});var s=a(57437),r=a(2265),i=a(28223);let n=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(localStorage.getItem("access_token"))try{let e=await i.E.getCurrentUser();o(e.user)}catch(e){console.log("Auth check failed")}c(!1)})()},[]);let d=async(e,t)=>{let a=await i.E.login({email:e,password:t});localStorage.setItem("access_token",a.tokens.access_token),localStorage.setItem("refresh_token",a.tokens.refresh_token),o(a.user)},u=async(e,t,a)=>{let s=await i.E.register({email:e,name:t,password:a});localStorage.setItem("access_token",s.tokens.access_token),localStorage.setItem("refresh_token",s.tokens.refresh_token),o(s.user)};return(0,s.jsx)(n.Provider,{value:{user:a,loading:l,isAuthenticated:!!a,login:d,register:u,logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),o(null)}},children:t})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within AuthProvider");return e}},28223:function(e,t,a){"use strict";a.d(t,{E:function(){return r}});let s=a(83464).Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e.data,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")),Promise.reject(e)});let r={register:e=>s.post("/api/v1/auth/register",e),login:e=>s.post("/api/v1/auth/login",e),googleAuth:e=>s.post("/api/v1/auth/google",e),appleAuth:e=>s.post("/api/v1/auth/apple",e),getCurrentUser:()=>s.get("/api/v1/auth/me"),uploadTest:e=>s.post("/api/v1/tests/upload",e),getTestHistory:e=>s.get("/api/v1/tests/history?limit=".concat(e||10)),getDashboard:()=>s.get("/api/v1/tests/dashboard"),getRecommendations:()=>s.get("/api/v1/tests/recommendations")}}},function(e){e.O(0,[502,387,464,149,648,971,117,744],function(){return e(e.s=57268)}),_N_E=e.O()}]);